.user__back
  .user__content
    %h2.user__title パスワード更新
    = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
      = render "devise/shared/error_messages", resource: resource
      .user__form
        .form__inputs
          .field
            = f.label :nickname, "アカウント名"
            %br/
            = f.text_field :nickname, autofocus: true, autocomplete: "nickname"
          - if devise_mapping.confirmable? && resource.pending_reconfirmation?
            %div
              Currently waiting confirmation for: #{resource.unconfirmed_nickname}
          .field
            = f.label :password, "新しいパスワード"
            %br/
            - if @minimum_password_length
              %em
                (#{@minimum_password_length} 文字以上)
            %br/
            = f.password_field :password, autocomplete: "new-password"
          .field
            = f.label :password_confirmation, "新しいパスワード再入力"
            %br/
            = f.password_field :password_confirmation, autocomplete: "new-password"
          .field
            = f.label :current_password, "現在のパスワード"
            %br/
            = f.password_field :current_password, autocomplete: "current-password"
        .field__commits
          .actions
            = f.submit "パスワード更新", class: "button"
          .devise__links
            = link_to "もどる", chats_path
